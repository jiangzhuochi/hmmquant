# RSI

- RSI 作为观测序列，同 MACD 极为相似。
- 根据 MACD 回测的步骤，对 RSI 又进行了一遍。
- 重点关注了 MACD 的最优模型超参数用在 RSI 上表现如何，结果是极为相似的。4 个状态，训练集 160 个，训练间隔 320 个表现最好。
- 紧接着，我以 16 个为步长，继续做了 160，320 周围的八个参数组合的回测，结果依然稳定。
- 继续调整状态数为 5，6，稳定。
- 160，320 可以直观地理解为用后半个月的数据估计模型，去预测下一个月。如果用一个月估计一个月呢，结果是 320，320 要差，和纯多策略走势相近。
- 至于其他更大的参数，则更差，较小的参数也是如此。

## 一个合理的解释

### 训练集大小（训练模型用多少个数据？）

- 当用较大的训练集时，模型加入了长的历史数据，不能对最近的市场做出及时反应，同时马尔可夫链变长，联合概率变得很小，很接近于 0，精度减少。该情况滞后性较大。
- 当用较小的训练集时，模型包含的信息太少（看到的市场情况不够多），因此对市场比较敏感，无法很好地应对未来，把握趋势的能力不足。
- 以上两者，可类比于移动均线 MA200 和 MA5。


### 模型估计间隔（多久估计一次，估计一次用多久？）
- 当用较大的训练间隔时，在模型使用的中后期，相当于用很老的模型来预测，没有囊括最近市场的形势。
- 当用较小的训练间隔时，模型经常重新训练，也就是承认市场经常变动，之前训练的模型不再有效，解码出的隐含状态链不再有效。因此HMM方法的稳定性会下降，多空转换的频率增加。
- 对于 RSI 和 MACD 而言 160，320 可能是一个较为折中的参数。这个参数周围的八个参数组，回测收益几乎全部至少和纯多一样，并且对状态数 4，5，6 也稳定。

## 一点感想

合理吗？我也不知道。

我想说的是：主观经验（广义的，同样指的是 **自认为合理** 的理论）**非常重要**，如果你没有 **充足** 的理由说服自己相信数据，那么多半在这个环境浸淫已久而形成的 **感觉** 是对的。

主观经验也很 **危险**，特别是带着主观经验进行数据探索。我在这里想到了在统计书上看到的一句话：

> **你对数据越苛求，数据会越多地向你供认**，但在威逼下得到的供词，在科学询查的法庭上是不容许的。
> ——芝加哥大学统计系，史蒂芬·史蒂格勒

无独有偶，1991 年诺贝尔经济学奖获得者，罗纳德·哈里·科斯：

> 只要你拷打数据的时间足够长，它什么都供认不讳。

布莱德尔的《新黑暗时代》：

> 如果你在网上为自己的观点寻求支持，你总能找到。不仅如此，你还会收到源源不断的证实性内容：信息越多，内容的性质也越来越极端。

**适当地** 接受眼前数据显示的东西，不是一遍遍想法设法让结果变成你 **预想** 的样子，或许让主观经验能够 **改进**。

对数学在经济学中的过度使用，科斯挖苦说：

> 我年轻时曾听人说，太蠢以至于不能说的东西可以唱。现代经济学则把那些东西放到了数学里。


## 我理解的量化

- 量化 **不是** 也 **不能** 预测未来。
- 量化 **是** 对某个状况发生时，我们最好的应对策略。

例如，假如现在发生了某个事件，根据经验，知道未来 10 天每天有 70% 概率会涨，30% 概率会跌，但无法进一步获取有效信息得知哪天涨哪天跌（为了简化，假设涨跌幅度一样）。最优的应对不是去预测那几天涨，哪几天跌，也不是 7 天开多仓，3 天开空仓（`7*0.7+3*0.3`），而是直接 10 天都开多仓（`10*0.7`）。如果要预测，准确度则要提高到 70% 以上才能战胜纯多（`7*0.7+3*0.7`）。

机器学习应用到金融上方兴未艾，机器学习不是银弹，不是万能灵药，只是一个探索方向。应用在金融上有天然的劣势：

- 应用机器学习，金融的数据太少。例如图像识别，一张 1000 宽高的图片就有一百万个像素，每个像素 RGBA 四个值。而且用来训练的图片也数目巨大。
- 金融市场风格变化，因此模型不可以一劳永逸。对图像识别而言，模型的 **改进** 是 **算法** 的改进。对金融而言，模型的 **颠覆** 是 **参数** 的颠覆。对人脸识别，一千年后的人脸应该和现在差不多，但下个月的市场和现在可能完全不同。
- 内部参数太多，超参数太多，黑箱，很难解释其经济含义。当回测结果好和坏时，都很难解释。例如，HMM参数算比较少的了，尚且看到的仅仅是 **输入参数的不同** 导致 **回测结果的不同**。假设是否合理，隐含状态是否存在都不一定。遑论神经网络。

## 我认为很好的方向

- 技术指标的自动判断并应用，越是高频策略越简单。
- 和人主观经验结合，即人经验的自动化、知识库。
- 高频做市。量化交易最大的优势在于 **自动化**、**快速** 执行交易指令请求。